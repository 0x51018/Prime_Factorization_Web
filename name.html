<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" http-equiv="content-type"
        content="width=device-width,initial-scale=1, maximum-scale=1.0, user-scalable=no; charset=utf-8">
    <title> 이름 소인수분해하기 </title>
    <link rel="stylesheet" href="primefact.css">

</head>

<body>
    <div id="nav_menu">
        <ul>
            <li style="font-size: 140%;"><b><a href="sosu.html">소수교</a></b></li>
            <li><a href="index.html">소인수분해 계산기</a></li>
            <li><a href="factcont.html">소인수분해 대회</a></li>
            <li><a href="name.html">이름 소인수분해</a></li>
        </ul>
    </div>
    <br><br><br>
    <hr>
    <p id="problem">이름 소인수분해 계산기</p>

    <p id="example">당신의 이름을 15자리 수로 바꾸어 소인수분해 해줍니다!</p>
    <input id="answer" type="text" autocomplete="off" maxlength="15">
    <p id="note"></p>
    <p id="result"></p>
    <p id="result2"></p>
    <script>
        var input = document.getElementById("answer");
        input.addEventListener("keyup", function (event) {
            if (event.keyCode === 13) {
                var nm = String(document.getElementById("answer").value);
                var plist = new Object();
                var cnt = 0;

                if (nm.length != 3) {
                    document.getElementById("result").innerHTML = "";
                    document.getElementById("result2").innerHTML = "";
                    document.getElementById("note").innerHTML = "3글자의 이름을 입력해주세요.";
                    return 0;
                } else {
                    var n = (nm[0].charCodeAt(0) + 1) * 10000000000 + (nm[1].charCodeAt(0) + 1) * 100000 + nm[2].charCodeAt(0) + 1
                    document.getElementById("note").innerHTML = "";
                    document.getElementById("note").innerHTML = n;
                    document.getElementById("result").innerHTML = "";
                    document.getElementById("result2").innerHTML = "";
                }

                var i = 2;
                while (n % i == 0) {
                    cnt++;
                    n /= 2;
                }
                if (cnt != 0) {
                    plist[i] = cnt;
                }
                for (i = 3; i * i <= n; i += 2) {
                    cnt = 0;
                    while (n % i == 0) {
                        cnt++;
                        n /= i;
                    }
                    if (cnt != 0) {
                        plist[i] = cnt;
                    }
                }
                if (n > 1) {
                    plist[n] = 1;
                }
                var keys = Object.keys(plist);
                for (var i = 0; i < keys.length - 1; i++) {
                    var j = keys[i];
                    document.getElementById("result").innerHTML += j;
                    if (plist[j] > 1) {
                        document.getElementById("result").innerHTML += "<sup>" + plist[j] + "</sup>";
                    }
                    document.getElementById("result").innerHTML += " × ";
                }
                var last = keys[keys.length - 1];
                document.getElementById("result").innerHTML += last;
                if (plist[last] > 1) {
                    document.getElementById("result").innerHTML += "<sup>" + plist[last] + "</sup>";
                }
                //
                for (var i = 0; i < keys.length - 1; i++) {
                    var j = keys[i];
                    for (var k = 0; k < plist[j]; k++) {
                        document.getElementById("result2").innerHTML += j + " x ";
                    }
                }
                for (var k = 0; k < plist[last] - 1; k++) {
                    document.getElementById("result2").innerHTML += last + " x ";
                }
                document.getElementById("result2").innerHTML += last;
            }
        });
    </script>
</body>

</html>